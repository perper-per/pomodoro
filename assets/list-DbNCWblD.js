import{p as Q,m as de,i as we,j as Pe,k as Z,b as w,l as ee,e as l,q as X,v as J,M as pe,I as ne,E as ae,x as Fe,y as Re,z as Se,A as Be,B as Te,C as $e,D as De,G as Ee,r as O,H as Le,J as Oe,K as Ae,L as We,N as Me,O as Ne,P as Ue,F as W,Q as G,R as Ke,S as qe,T as je,U as ze,W as He,X as Xe,Y as Ye,Z as Ge,$ as fe,a0 as Je,s as Qe,d as Ze,w as R,h as et,o as $,a as d,g as E,c as L,t as ie,a1 as ve,f as me,a2 as tt,V as H}from"./index-BiSQzZmR.js";import{u as lt}from"./list-DtgEi6hT.js";import{b as he,V as z,a as nt}from"./route-block-ETAYT8Ps.js";import{V as at,m as it,u as be,a as ot,b as st,c as ge,d as oe}from"./VInput-DEWlMAiA.js";class se{constructor(o){let{x:a,y:i,width:t,height:n}=o;this.x=a,this.y=i,this.width=t,this.height=n}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function rt(e){const o=e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){let t,n,s,f,h;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),n=+t[0],s=+t[5],f=+t[12],h=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),n=+t[0],s=+t[3],f=+t[4],h=+t[5];else return new se(o);const v=a.transformOrigin,b=o.x-f-(1-n)*parseFloat(v),g=o.y-h-(1-s)*parseFloat(v.slice(v.indexOf(" ")+1)),V=n?o.width/n:e.offsetWidth+1,_=s?o.height/s:e.offsetHeight+1;return new se({x:b,y:g,width:V,height:_})}else return new se(o)}function ut(e,o,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(o,a)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(t=>{i.onfinish=()=>{t(i)}})),i}const dt="cubic-bezier(0.4, 0, 0.2, 1)",ct=Q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...de(),...we({transition:{component:Pe}})},"VCounter"),ft=Z()({name:"VCounter",functional:!0,props:ct(),setup(e,o){let{slots:a}=o;const i=w(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ee(()=>l(pe,{transition:e.transition},{default:()=>[X(l("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[a.default?a.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[J,e.active]])]})),{}}}),vt=Q({floating:Boolean,...de()},"VFieldLabel"),Y=Z()({name:"VFieldLabel",props:vt(),setup(e,o){let{slots:a}=o;return ee(()=>l(at,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),mt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],xe=Q({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>mt.includes(e)},"onClick:clear":ae(),"onClick:appendInner":ae(),"onClick:prependInner":ae(),...de(),...Fe(),...Re(),...Se()},"VField"),Ce=Z()({name:"VField",inheritAttrs:!1,props:{id:String,...it(),...xe()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const{themeClasses:n}=Be(e),{loaderClasses:s}=Te(e),{focusClasses:f,isFocused:h,focus:v,blur:b}=be(e),{InputIcon:g}=ot(e),{roundedClasses:V}=$e(e),{rtlClasses:_}=De(),k=w(()=>e.dirty||e.active),x=w(()=>!e.singleLine&&!!(e.label||t.label)),q=Ee(),m=w(()=>e.id||`input-${q}`),u=w(()=>`${m.value}-messages`),r=O(),S=O(),P=O(),c=w(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:p,backgroundColorStyles:F}=Le(Oe(e,"bgColor")),{textColorClasses:B,textColorStyles:te}=Ae(w(()=>e.error||e.disabled?void 0:k.value&&h.value?e.color:e.baseColor));We(k,y=>{if(x.value){const C=r.value.$el,T=S.value.$el;requestAnimationFrame(()=>{const D=rt(C),I=T.getBoundingClientRect(),j=I.x-D.x,N=I.y-D.y-(D.height/2-I.height/2),U=I.width/.75,K=Math.abs(U-D.width)>1?{maxWidth:je(U)}:void 0,Ve=getComputedStyle(C),ce=getComputedStyle(T),_e=parseFloat(Ve.transitionDuration)*1e3||150,ke=parseFloat(ce.getPropertyValue("--v-field-label-scale")),Ie=ce.getPropertyValue("color");C.style.visibility="visible",T.style.visibility="hidden",ut(C,{transform:`translate(${j}px, ${N}px) scale(${ke})`,color:Ie,...K},{duration:_e,easing:dt,direction:y?"normal":"reverse"}).finished.then(()=>{C.style.removeProperty("visibility"),T.style.removeProperty("visibility")})})}},{flush:"post"});const M=w(()=>({isActive:k,isFocused:h,controlRef:P,blur:b,focus:v}));function le(y){y.target!==document.activeElement&&y.preventDefault()}function A(y){var C;y.key!=="Enter"&&y.key!==" "||(y.preventDefault(),y.stopPropagation(),(C=e["onClick:clear"])==null||C.call(e,new MouseEvent("click")))}return ee(()=>{var j,N,U;const y=e.variant==="outlined",C=!!(t["prepend-inner"]||e.prependInnerIcon),T=!!(e.clearable||t.clear),D=!!(t["append-inner"]||e.appendInnerIcon||T),I=()=>t.label?t.label({...M.value,label:e.label,props:{for:m.value}}):e.label;return l("div",G({class:["v-field",{"v-field--active":k.value,"v-field--appended":D,"v-field--center-affix":e.centerAffix??!c.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":C,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!I(),[`v-field--variant-${e.variant}`]:!0},n.value,p.value,f.value,s.value,V.value,_.value,e.class],style:[F.value,e.style],onClick:le},a),[l("div",{class:"v-field__overlay"},null),l(Me,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),C&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(g,{key:"prepend-icon",name:"prependInner"},null),(j=t["prepend-inner"])==null?void 0:j.call(t,M.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&x.value&&l(Y,{key:"floating-label",ref:S,class:[B.value],floating:!0,for:m.value,style:te.value},{default:()=>[I()]}),x.value&&l(Y,{key:"label",ref:r,for:m.value},{default:()=>[I()]}),(N=t.default)==null?void 0:N.call(t,{...M.value,props:{id:m.value,class:"v-field__input","aria-describedby":u.value},focus:v,blur:b})]),T&&l(Ne,{key:"clear"},{default:()=>[X(l("div",{class:"v-field__clearable",onMousedown:K=>{K.preventDefault(),K.stopPropagation()}},[l(Ue,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...M.value,props:{onKeydown:A,onFocus:v,onBlur:b,onClick:e["onClick:clear"]}}):l(g,{name:"clear",onKeydown:A,onFocus:v,onBlur:b},null)]})]),[[J,e.dirty]])]}),D&&l("div",{key:"append",class:"v-field__append-inner"},[(U=t["append-inner"])==null?void 0:U.call(t,M.value),e.appendInnerIcon&&l(g,{key:"append-icon",name:"appendInner"},null)]),l("div",{class:["v-field__outline",B.value],style:te.value},[y&&l(W,null,[l("div",{class:"v-field__outline__start"},null),x.value&&l("div",{class:"v-field__outline__notch"},[l(Y,{ref:S,floating:!0,for:m.value},{default:()=>[I()]})]),l("div",{class:"v-field__outline__end"},null)]),c.value&&x.value&&l(Y,{ref:S,floating:!0,for:m.value},{default:()=>[I()]})])])}),{controlRef:P}}});function ht(e){const o=Object.keys(Ce.props).filter(a=>!Ke(a)&&a!=="class"&&a!=="style");return qe(e,o)}const re=Symbol("Forwarded refs");function ue(e,o){let a=e;for(;a;){const i=Reflect.getOwnPropertyDescriptor(a,o);if(i)return i;a=Object.getPrototypeOf(a)}}function gt(e){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return e[re]=a,new Proxy(e,{get(t,n){if(Reflect.has(t,n))return Reflect.get(t,n);if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const s of a)if(s.value&&Reflect.has(s.value,n)){const f=Reflect.get(s.value,n);return typeof f=="function"?f.bind(s.value):f}}},has(t,n){if(Reflect.has(t,n))return!0;if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const s of a)if(s.value&&Reflect.has(s.value,n))return!0;return!1},set(t,n,s){if(Reflect.has(t,n))return Reflect.set(t,n,s);if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const f of a)if(f.value&&Reflect.has(f.value,n))return Reflect.set(f.value,n,s);return!1},getOwnPropertyDescriptor(t,n){var f;const s=Reflect.getOwnPropertyDescriptor(t,n);if(s)return s;if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const h of a){if(!h.value)continue;const v=ue(h.value,n)??("_"in h.value?ue((f=h.value._)==null?void 0:f.setupState,n):void 0);if(v)return v}for(const h of a){const v=h.value&&h.value[re];if(!v)continue;const b=v.slice();for(;b.length;){const g=b.shift(),V=ue(g.value,n);if(V)return V;const _=g.value&&g.value[re];_&&b.push(..._)}}}}})}const yt=["color","file","time","date","datetime-local","week","month"],bt=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...st(),...xe()},"VTextField"),ye=Z()({name:"VTextField",directives:{Intersect:ze},inheritAttrs:!1,props:bt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const n=He(e,"modelValue"),{isFocused:s,focus:f,blur:h}=be(e),v=w(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:(n.value??"").toString().length),b=w(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),g=w(()=>["plain","underlined"].includes(e.variant));function V(c,p){var F,B;!e.autofocus||!c||(B=(F=p[0].target)==null?void 0:F.focus)==null||B.call(F)}const _=O(),k=O(),x=O(),q=w(()=>yt.includes(e.type)||e.persistentPlaceholder||s.value||e.active);function m(){var c;x.value!==document.activeElement&&((c=x.value)==null||c.focus()),s.value||f()}function u(c){i("mousedown:control",c),c.target!==x.value&&(m(),c.preventDefault())}function r(c){m(),i("click:control",c)}function S(c){c.stopPropagation(),m(),fe(()=>{n.value=null,Je(e["onClick:clear"],c)})}function P(c){var F;const p=c.target;if(n.value=p.value,(F=e.modelModifiers)!=null&&F.trim&&["text","search","password","tel","url"].includes(e.type)){const B=[p.selectionStart,p.selectionEnd];fe(()=>{p.selectionStart=B[0],p.selectionEnd=B[1]})}}return ee(()=>{const c=!!(t.counter||e.counter!==!1&&e.counter!=null),p=!!(c||t.details),[F,B]=Xe(a),{modelValue:te,...M}=ge.filterProps(e),le=ht(e);return l(ge,G({ref:_,modelValue:n.value,"onUpdate:modelValue":A=>n.value=A,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":g.value},e.class],style:e.style},F,M,{centerAffix:!g.value,focused:s.value}),{...t,default:A=>{let{id:y,isDisabled:C,isDirty:T,isReadonly:D,isValid:I}=A;return l(Ce,G({ref:k,onMousedown:u,onClick:r,"onClick:clear":S,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},le,{id:y.value,active:q.value||T.value,dirty:T.value||e.dirty,disabled:C.value,focused:s.value,error:I.value===!1}),{...t,default:j=>{let{props:{class:N,...U}}=j;const K=X(l("input",G({ref:x,value:n.value,onInput:P,autofocus:e.autofocus,readonly:D.value,disabled:C.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:m,onBlur:h},U,B),null),[[Ye("intersect"),{handler:V},null,{once:!0}]]);return l(W,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?l("div",{class:N,"data-no-activator":""},[t.default(),K]):Ge(K,{class:N}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:p?A=>{var y;return l(W,null,[(y=t.details)==null?void 0:y.call(t,A),c&&l(W,null,[l("span",null,null),l(ft,{active:e.persistentCounter||s.value,value:v.value,max:b.value,disabled:e.disabled},t.counter)])])}:void 0})}),gt({},_,k,x)}}),xt={key:0},Ct={key:1},Vt={colspan:"2"},_t={key:0},kt={__name:"list",setup(e){const o=lt(),{addItem:a,editItem:i,delItem:t,cancelEditItem:n,confirmEditItem:s,delFinishedItem:f}=o,{items:h,current:v,finishedItems:b}=Qe(o),g=O(""),V=O(null),_=O([]),k={required:m=>!!m||"欄位必填",length:m=>m.length>=3||"必須三個字以上"},x=()=>{console.log(V.value.isValid),V.value.isValid&&(a(g.value),V.value.reset())},q=(m,u)=>{_.value[u].isValid&&s(m)};return(m,u)=>($(),Ze(et,null,{default:R(()=>[l(nt,null,{default:R(()=>[l(z,{cols:"12"},{default:R(()=>u[1]||(u[1]=[d("h1",{class:"text-center"},"正在進行",-1)])),_:1}),l(z,{cols:"12"},{default:R(()=>[l(oe,null,{default:R(()=>[d("tbody",null,[E(v).length===0?($(),L("tr",xt,u[2]||(u[2]=[d("td",{colspan:"2"},"沒有正在進行的項目",-1)]))):($(),L("tr",Ct,[d("td",Vt,ie(E(v)),1)]))])]),_:1})]),_:1}),l(z,{cols:"12"},{default:R(()=>u[3]||(u[3]=[d("h1",{class:"text-center"},"未完成",-1)])),_:1}),l(z,{cols:"12"},{default:R(()=>[l(ye,{ref_key:"inputTextField",ref:V,modelValue:g.value,"onUpdate:modelValue":u[0]||(u[0]=r=>g.value=r),"append-icon":"mdi-plus",label:"新增事項",clearable:"",rules:[k.required,k.length],onKeydown:ve(x,["enter"]),"onClick:append":x},null,8,["modelValue","rules"]),l(oe,null,{default:R(()=>[u[4]||(u[4]=d("thead",null,[d("tr",null,[d("th",null,"事項"),d("th",null,"操作")])],-1)),d("tbody",null,[($(!0),L(W,null,me(E(h),(r,S)=>($(),L("tr",{key:r.id},[d("td",null,[X(l(ye,{ref_for:!0,ref_key:"editTextField",ref:_,modelValue:r.model,"onUpdate:modelValue":P=>r.model=P,rules:[k.required,k.length],autofocus:"",onKeydown:ve(P=>q(r.id,S),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[J,r.edit]]),X(d("span",null,ie(r.text),513),[[J,!r.edit]])]),d("td",null,[r.edit?($(),L(W,{key:0},[l(H,{icon:"mdi-check",onClick:P=>q(r.id,S)},null,8,["onClick"]),l(H,{icon:"mdi-undo",onClick:P=>E(n)(r.id)},null,8,["onClick"])],64)):($(),L(W,{key:1},[l(H,{icon:"mdi-pencil",onClick:P=>E(i)(r.id)},null,8,["onClick"]),l(H,{icon:"mdi-delete",onClick:P=>E(t)(r.id)},null,8,["onClick"])],64))])]))),128))])]),_:1})]),_:1}),l(z,{cols:"12"},{default:R(()=>u[5]||(u[5]=[d("h1",{class:"text-center"},"已完成",-1)])),_:1}),l(z,{cols:"12"},{default:R(()=>[l(oe,null,{default:R(()=>[u[7]||(u[7]=d("thead",null,[d("tr",null,[d("th",null,"事項"),d("th",null,"操作")])],-1)),d("tbody",null,[E(b).length===0?($(),L("tr",_t,u[6]||(u[6]=[d("td",{colspan:"2"},"沒有項目",-1)]))):tt("",!0),($(!0),L(W,null,me(E(b),r=>($(),L("tr",{key:r.id},[d("td",null,ie(r.text),1),d("td",null,[l(H,{icon:"mdi-delete",onClick:S=>E(f)(r.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};typeof he=="function"&&he(kt);export{kt as default};
